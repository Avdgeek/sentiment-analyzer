<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
        textarea { width: 400px; height: 100px; margin: 20px; }
        button { padding: 10px 20px; font-size: 16px; }
        #result { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ —Ç–µ–∫—Å—Ç—É</h1>
    <p>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç (–ø–æ—Å—Ç, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π), –∏ –ò–ò –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –µ–≥–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –æ–∫—Ä–∞—Å–∫—É.</p>

    <textarea id="textInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å..."></textarea>
    <br>
    <button onclick="analyzeSentiment()">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>

    <div id="result"></div>

    <script>
        function analyzeSentiment() {
            const text = document.getElementById('textInput').value;
            const resultDiv = document.getElementById('result');

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            resultDiv.innerText = '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...';

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –Ω–∞—à –±—ç–∫–µ–Ω–¥
            fetch('/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ text: text })
            })
            .then(response => response.json())
            .then(data => {
                if (data.error) {
                    resultDiv.innerText = '–û—à–∏–±–∫–∞: ' + data.error;
                } else {
                    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–º–æ–¥–µ–ª—å –≤—ã–¥–∞–µ—Ç –º–µ—Ç–∫—É –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)
                    let label = data.label;
                    if (label === 'POSITIVE') label = '–ü–û–ó–ò–¢–ò–í üéâ';
                    else if (label === 'NEGATIVE') label = '–ù–ï–ì–ê–¢–ò–í üò†';
                    else if (label === 'NEUTRAL') label = '–ù–ï–ô–¢–†–ê–õ üòê';

                    resultDiv.innerText = `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${label} (–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: ${(data.score * 100).toFixed(2)}%)`;
                }
            })
            .catch(error => {
                resultDiv.innerText = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ: ' + error;
            });
        }
    </script>
</body>
</html>

